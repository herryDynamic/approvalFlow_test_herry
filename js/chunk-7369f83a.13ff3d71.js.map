{"version":3,"sources":["webpack:///src/views/custom/test.vue","webpack:///./src/views/custom/test.vue","webpack:///./src/views/custom/test.vue?29c4","webpack:///./src/views/custom/test.vue?87c1","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./src/assets/utils/render.js","webpack:///./node_modules/core-js/modules/es.object.freeze.js","webpack:///./node_modules/core-js/internals/internal-metadata.js"],"names":["validator","count","val","ctx","confGlobal","formModel","rule","field","conf","tabList","forEach","Array","isArray","key","length","callback","undefined","Error","trigger","type","buildRules","tag","regList","rules","push","vModel","setData","prop","init","$set","_isMounted","colFormItem","buildData","defaultValue","noFormItem","tableTitle","item","rowFormItem","justify","align","gutter","showDivider","cmpType","explain","divider","row","data","this","$route","params","Object","freeze","tableRefs","drawerTitle","drawerText","drawerVisible","containerWidth","mounted","methods","submitForm","$refs","formRef","validate","isTableValid","title","message","position","console","log","resetForm","resetFields","resetTableData","keys","checkTableData","res","valid","showExplain","explainText","buildForm","props","model","formRules","size","labelWidth","labelPosition","ref","h","formObject","content","btns","render","staticRenderFns","component","fails","module","exports","isExtensible","preventExtensions","makeMap","attrStr","expectsLowerCase","attrs","split","map","create","t","toLowerCase","isAttr","self","dataObject","value","on","input","$emit","change","componentChild","prepend","append","options","list","label","disabled","optionType","border","buttonText","showTip","fileSize","sizeUnit","accept","style","confClone","JSON","parse","stringify","children","childObjs","childFunc","$","FREEZING","isObject","onFreeze","nativeFreeze","FAILS_ON_PRIMITIVES","target","stat","forced","sham","it","hiddenKeys","has","defineProperty","f","uid","METADATA","id","setMetadata","objectID","weakData","fastKey","getWeakData","meta","REQUIRED"],"mappings":"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","file":"js/chunk-7369f83a.13ff3d71.js","sourcesContent":["<script>\nimport render from '@/assets/utils/render.js'\nimport mockData from '../admin/mockData.js'\nimport { trigger } from '@/components/DynamicForm/components/generator/config.js'\n/**\n * 校验组织机构组件是否为空\n */\nconst setFcOrgSelectRule = ( conf, ctx ) => {\n  return { \n    validator: (rule, value, callback) => {\n      var count = 0\n      var val = ctx[ctx.confGlobal.formModel][rule.field]\n      conf.tabList.forEach(key => {\n        val && Array.isArray(val[key]) && (count += val[key].length)\n      })\n      callback(count ? undefined : new Error(`${conf.title}不能为空`))\n    }, \n    trigger: trigger[conf.tag],\n    type: 'object' \n  }\n}\n/**\n * 收集表单必填项并组装成ElementUI表单校验得rules选项\n */\nfunction buildRules ( conf, ctx ) {\n  if ( conf.vModel === undefined ||  !trigger[conf.tag]) return\n  const rules = []\n  if ( conf.required ) {\n    const type = Array.isArray( conf.defaultValue ) ? 'array' : undefined\n    let message = Array.isArray( conf.defaultValue ) ? `请至少选择一个` : conf.placeholder\n    if ( message === undefined ) message = `${conf.label}不能为空`\n    conf.tag === 'fc-org-select'\n      ? rules.push( setFcOrgSelectRule( conf, ctx ) )\n      : rules.push( { required: true, type, message, trigger: trigger[conf.tag] } )\n  }\n  // 自定义正则匹配\n  if ( conf.regList && Array.isArray( conf.regList ) ) {\n    conf.regList.forEach( item => {\n      if ( item.pattern ) {\n        rules.push( { pattern: eval( item.pattern ), message: item.message, trigger: trigger[conf.tag] } )\n      }\n    } )\n  }\n  ctx.rules[conf.vModel] = rules\n}\n\n\nvar setData = (ctx, val, prop, init = false) => {\n  if (!prop) return\n  if (init) ctx.$set(ctx[ctx.confGlobal.formModel], prop, val)\n  else ctx[ctx.confGlobal.formModel][prop] = val\n}\n\nvar _isMounted = false // 收集默认值 渲染完成之后防止重复收集默认值\n\nconst buildData = (ctx, value, prop) => setData(ctx, value, prop, true)\n\nconst layouts = {\n  colFormItem: function (conf,  h, ctx, noFormItem = false,) {\n    buildRules(conf, ctx)\n    !_isMounted && buildData(ctx, conf.defaultValue, conf.vModel)\n    let labelWidth = ''\n    if ( conf.labelWidth ) labelWidth = `${conf.labelWidth}px`\n    if ( noFormItem ) labelWidth = \"0px\"\n    const required = ( !trigger[conf.tag] && conf.required ) || conf.tag === 'fc-org-select' \n    let item =  <el-col span={conf.span}>\n                  <el-form-item label-width={labelWidth} label={noFormItem ? '' : conf.label} prop={conf.vModel}  required={required}>\n                    <render onInput={val => setData(ctx, val, conf.vModel)} value={ctx[ctx.confGlobal.formModel][conf.vModel]} ref={conf.rowType === 'table'  ? conf.vModel : undefined} conf={conf}  />\n                  </el-form-item>\n                </el-col>\n\n    if (noFormItem) {\n      var tableTitle = <div style=\"font-size: 14px;padding:6px 0px;margin-bottom: 4px;border-bottom: 1px solid #e5e5e5;\">{conf.label}</div>\n      return [tableTitle, item]\n    }\n    return item\n  },\n\n  rowFormItem: function (conf, h, ctx) {\n     if ( conf.rowType === 'table' ) {\n       ctx.tableRefs[conf.vModel] = conf\n       const param = {...conf, config: conf, formSize: ctx.confGlobal.size, labelWidth: `${conf.labelWidth || ctx.confGlobal.labelWidth}px`}\n       return this.colFormItem( param, h, ctx, conf.type === 'list' )\n    }\n    buildRules(conf, ctx)\n    const props = {\n      type: conf.type === 'default' ? undefined : conf.type,\n      justify: conf.type === 'default' ? undefined : conf.justify,\n      align: conf.type === 'default' ? undefined : conf.align,\n      gutter: typeof conf.gutter === 'number' ? conf.gutter : undefined,\n    }\n    let row = <el-col span={conf.span || 24}>\n                <el-row {...{ props: props }}>\n                  { Array.isArray(conf.children) && conf.children.map( ( el ) => layouts[el.layout]( el, h, ctx ) ) }\n                </el-row>\n              </el-col>\n    let divider\n    if (conf.showDivider) {\n      let explain\n      if (conf.cmpType === 'custom' && conf.explain) {\n        explain = <el-tooltip effect=\"dark\" content=\"组件说明\" placement=\"top\">\n                    <i class=\"el-icon-info\"\n                      onClick={ctx.showExplain(conf.explain, conf.label)}\n                      style=\"margin-right: 8px; color: #E6A23C;cursor: pointer;\">\n                    </i>\n                  </el-tooltip>\n      }\n      divider = <el-divider content-position=\"left\" >{explain} {conf.label}</el-divider>\n      return [divider, row]\n    } \n    return row\n  },\n}\n\n\nexport default {\n  data () {\n    var confGlobal = this.$route.params.confGlobal || mockData.formData\n    Object.freeze(confGlobal)\n    return {\n      tableRefs: {},\n      drawerTitle: '',\n      drawerText: '',\n      drawerVisible: false,\n      containerWidth: 66,\n      confGlobal,\n      [confGlobal.formModel]: {},\n      [confGlobal.formRules]: {}\n    }\n  },\n  mounted(){\n    _isMounted = true\n  },\n  methods: {\n    submitForm () {\n      const isTableValid = this.checkTableData()\n      this.$refs[this.confGlobal.formRef].validate(valid => {\n        if(!valid) return\n        if (!isTableValid) return\n        this.$notify({\n          title: '表单数据',\n          message: '请在控制台中查看数据输出',\n          position: 'bottom-right'\n        });\n        console.log('表单数据', this[this.confGlobal.formModel])\n        // TODO 提交表单\n      })\n    },\n\n    resetForm() {\n      this.$refs[this.confGlobal.formRef].resetFields()\n      this.resetTableData()\n    },\n\n    resetTableData(){\n      Object.keys(this.tableRefs).forEach(vModel => {\n        const res = this.$refs[vModel].reset()\n      })\n    },\n\n    checkTableData () {\n      let valid = true\n      Object.keys(this.tableRefs).forEach(vModel => {\n        const res = this.$refs[vModel].$children[0].submit()  // 返回false或表单数据\n        res ? (this[this.confGlobal.formModel][vModel] = res) : (valid = false)\n      })\n      return valid\n    },\n\n    showExplain (explainText, title) {\n      if(!explainText) return\n      this.drawerTitle = title\n      this.drawerText = explainText\n      this.drawerVisible = true\n    },\n\n    buildForm (h) {\n      let labelPosition = this.confGlobal.labelPosition || 'left'\n      const content = this.confGlobal.fields.map(c => layouts[c.layout](c, h, this))\n      const formObject = {\n        props: {\n          model: this[this.confGlobal.formModel],\n          rules: this[this.confGlobal.formRules],\n          size: this.confGlobal.size,\n          labelWidth: this.confGlobal.labelWidth + 'px',\n          labelPosition: this.confGlobal.labelPosition || undefined\n        },\n        ref: this.confGlobal.formRef\n      }\n      const btns = <el-col span={24}>\n                    <el-form-item  style=\"text-align:right;\">\n                      <el-button type=\"primary\" onClick={this.submitForm}>提交</el-button>\n                      <el-button onClick={this.resetForm}>重置</el-button>\n                    </el-form-item>\n                  </el-col>\n      // 因为使用jsx时  el-form 的 model 一直无法正确填充，故采用createElement直接渲染\n      return h('el-form', formObject, [content, btns]) \n    }\n  },\n\n  render (h) {\n    return  <div class=\"preview-container\" style={'width:' + this.containerWidth + '%;'}>\n              <el-row gutter={this.confGlobal.gutter} style=\"padding: 2rem 2rem 0;\">\n                {this.buildForm(h)}\n              </el-row>\n              <div  class=\"width-slider\">\n                <el-slider vModel={this.containerWidth} min={30} max={96}></el-slider>\n              </div>\n              <el-drawer\n                title={this.drawerTitle + '说明'}\n                visible={ this.drawerVisible }\n                {...{on: {'update:visible': val => this.drawerVisible = val}}} >\n                <pre style=\"padding-left: 1rem;\">{this.drawerText}</pre>\n              </el-drawer>\n            </div>\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n.preview-container \n  margin 3rem auto 1rem\n  border-radius 6px\n  box-shadow 0 0 15px rgba(0, 0, 0, .1)\n  \n  .width-slider\n    width  150px\n    position absolute\n    top 0\n    right 2rem\n</style>\n","var render, staticRenderFns\nimport script from \"./test.vue?vue&type=script&lang=js&\"\nexport * from \"./test.vue?vue&type=script&lang=js&\"\nimport style0 from \"./test.vue?vue&type=style&index=0&id=57067712&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57067712\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test.vue?vue&type=style&index=0&id=57067712&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./test.vue?vue&type=style&index=0&id=57067712&lang=stylus&scoped=true&\"","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","const makeMap = ( attrStr, expectsLowerCase ) => {\n  const attrs = attrStr.split( ',' )\n  const map = Object.create( null )\n  attrs.forEach( t => map[t] = true )\n  return expectsLowerCase ?\n    val => map[val.toLowerCase()] :\n    val => map[val]\n}\n\n// 参考https://github.com/vuejs/vue/blob/v2.6.10/src/platforms/web/server/util.js\nconst isAttr = makeMap(\n  'accept,accept-charset,accesskey,action,align,alt,async,autocomplete,'\n  + 'autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,'\n  + 'checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,'\n  + 'name,contenteditable,contextmenu,controls,coords,data,datetime,default,'\n  + 'defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,'\n  + 'form,formaction,headers,height,hidden,high,href,hreflang,http-equiv,'\n  + 'icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,'\n  + 'manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,'\n  + 'muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,'\n  + 'preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,'\n  + 'scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,'\n  + 'spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,'\n  + 'target,title,type,usemap,value,width,wrap'\n)\n\nfunction vModel ( self, dataObject, value ) {\n  dataObject.props.value = value\n  dataObject.on.input = val => {\n    console.log( 'input' )\n    self.$emit( 'input', val )\n  }\n  // 因为有些组件的v-model绑定的事件是change 所以这里也得监听\n  dataObject.on.change = val => {\n    console.log( 'change' )\n    self.$emit( 'input', val )\n  }\n}\n\nconst componentChild = {\n  'el-input': {\n    prepend ( h, conf, key ) {\n      return <template slot=\"prepend\">{conf[key]}</template>\n    },\n    append ( h, conf, key ) {\n      return <template slot=\"append\">{conf[key]}</template>\n    }\n  },\n  'el-select': {\n    options ( h, conf, key ) {\n      const list = []\n      conf.options.forEach( item => {\n        list.push( <el-option label={item.label} value={item.value} disabled={item.disabled}></el-option> )\n      } )\n      return list\n    }\n  },\n  'el-radio-group': {\n    options ( h, conf, key ) {\n      const list = []\n      conf.options.forEach( item => {\n        if ( conf.optionType === 'button' ) list.push( <el-radio-button label={item.value}>{item.label}</el-radio-button> )\n        else list.push( <el-radio label={item.value} border={conf.border}>{item.label}</el-radio> )\n      } )\n      return list\n    }\n  },\n  'el-checkbox-group': {\n    options ( h, conf, key ) {\n      const list = []\n      conf.options.forEach( item => {\n        if ( conf.optionType === 'button' ) {\n          list.push( <el-checkbox-button label={item.value}>{item.label}</el-checkbox-button> )\n        } else {\n          list.push( <el-checkbox label={item.value} border={conf.border}>{item.label}</el-checkbox> )\n        }\n      } )\n      return list\n    }\n  },\n  'el-upload': {\n    'list-type': ( h, conf, key ) => {\n      const list = []\n      if ( conf['list-type'] === 'picture-card' ) {\n        list.push( <i class=\"el-icon-plus\"></i> )\n      } else {\n        list.push( <el-button size=\"small\" type=\"primary\" icon=\"el-icon-upload\">{conf.buttonText}</el-button> )\n      }\n      if ( conf.showTip ) {\n        list.push( <div slot=\"tip\" class=\"el-upload__tip\">只能上传不超过 {conf.fileSize}{conf.sizeUnit} 的{conf.accept}文件</div> )\n      }\n      return list\n    }\n  }\n}\n\nexport default {\n  render ( h ) {\n    const dataObject = {\n      attrs: {},\n      props: {},\n      on: {},\n      style: {}\n    }\n    const confClone = JSON.parse( JSON.stringify( this.conf ) )\n    const children = []\n\n    const childObjs = componentChild[confClone.tag]\n    if ( childObjs ) {\n      Object.keys( childObjs ).forEach( key => {\n        const childFunc = childObjs[key]\n        if ( confClone[key] ) {\n          children.push( childFunc( h, confClone, key ) )\n        }\n      } )\n    }\n\n    Object.keys( confClone ).forEach( key => {\n      const val = confClone[key]\n      if ( key === 'vModel' ) {\n        vModel( this, dataObject, this.value || confClone['defaultValue'] )\n      } else if ( dataObject[key] ) {\n        dataObject[key] = val\n      } else if ( !isAttr( key ) ) {\n        dataObject.props[key] = val\n      } else {\n        dataObject.attrs[key] = val\n      }\n    } )\n    return h( this.conf.tag, dataObject, children )\n  },\n  props: ['conf', 'value']\n}","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.github.io/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n"],"sourceRoot":""}